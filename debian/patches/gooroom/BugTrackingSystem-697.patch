From 1ce08274249af13942e1664688e1346e9d5b7300 Mon Sep 17 00:00:00 2001
From: JunSung Choi <junsungc@gooroom.kr>
Date: Tue, 28 May 2019 06:43:20 +0900
Subject: [PATCH 1/3] BugTrackingSystem

697 : Change strings 'chrome&google' to gooroom on gooroom:// pages
697-6 : Change default ntp (google webstore -> gooroom.kr)
---
 chrome/app/gooroom/generated_resources.grd                |  3 +++
 chrome/app/gooroom/resources/generated_resources_ko.xtb   |  1 +
 chrome/app/resources/locale_settings.grd                  |  3 +++
 chrome/app/theme/theme_resources.grd                      |  1 +
 .../system_logs/log_sources/chrome_internal_log_source.cc |  2 +-
 chrome/browser/history/top_sites_factory.cc               |  8 ++++----
 chrome/browser/resources/inspect/inspect.html             |  2 +-
 chrome/browser/resources/net_internals/events_view.html   |  2 +-
 chrome/browser/ui/webui/about_ui.cc                       | 15 +++++++++++----
 .../ui/webui/supervised_user_internals_message_handler.cc |  2 +-
 components/signin/core/browser/about_signin_internals.cc  |  2 +-
 .../resources/service_worker/serviceworker_internals.html |  2 +-
 12 files changed, 29 insertions(+), 14 deletions(-)

diff --git a/chrome/app/gooroom/generated_resources.grd b/chrome/app/gooroom/generated_resources.grd
index 1e5a91092..2bbee6ec4 100644
--- a/chrome/app/gooroom/generated_resources.grd
+++ b/chrome/app/gooroom/generated_resources.grd
@@ -4139,6 +4139,9 @@ Keep your key file in a safe place. You will need it to create new versions of y
       <message name="IDS_EXTENSION_WEB_STORE_TITLE_SHORT" desc="Shortened version of text for the Chrome Web Store">
         Web Store
       </message>
+      <message name="IDS_GOOROOM_TITLE_SHORT" desc="Shortened version of text for the Gooroom.kr">
+        Gooroom Flatform
+      </message>
       <message name="IDS_EXTENSIONS_SHOW_DETAILS" desc="Tooltip for the button next to an extension that shows more details">
         Show Details
       </message>
diff --git a/chrome/app/gooroom/resources/generated_resources_ko.xtb b/chrome/app/gooroom/resources/generated_resources_ko.xtb
index 3177cb2f9..283d14a36 100644
--- a/chrome/app/gooroom/resources/generated_resources_ko.xtb
+++ b/chrome/app/gooroom/resources/generated_resources_ko.xtb
@@ -1,6 +1,7 @@
 <?xml version="1.0" ?>
 <!DOCTYPE translationbundle>
 <translationbundle lang="ko">
+<translation id="4316824388120694567">구름 플랫폼 포럼</translation>
 <translation id="2273707414284427980">웹 소켓 사용 설정</translation>
 <translation id="4851515493665413363">웹 워커 사용 설정</translation>
 <translation id="8451170594022250242">Gooroom-browser를 종료할 때까지 Flash 설정이 유지됩니다.</translation>
diff --git a/chrome/app/resources/locale_settings.grd b/chrome/app/resources/locale_settings.grd
index 957e6efdd..c4a2a6537 100644
--- a/chrome/app/resources/locale_settings.grd
+++ b/chrome/app/resources/locale_settings.grd
@@ -176,6 +176,9 @@
       <message name="IDS_WEBSTORE_URL" translateable="false">
         https://chrome.google.com/webstore?hl=[GRITLANGCODE]
       </message>
+      <message name="IDS_GOOROOM_URL" translateable="false">
+        https://www.gooroom.kr
+      </message>
 
       <!-- The URLs for Adobe Flash settings. We cannot rely on -->
       <!-- the automatic expansion of GRITLANGCODE here because Adobe does -->
diff --git a/chrome/app/theme/theme_resources.grd b/chrome/app/theme/theme_resources.grd
index 6b45f2290..072f7c4bf 100644
--- a/chrome/app/theme/theme_resources.grd
+++ b/chrome/app/theme/theme_resources.grd
@@ -291,6 +291,7 @@
       <!-- Instant Extended API toolbar background is common for all platforms. -->
       <structure type="chrome_scaled_image" name="IDR_THEME_WINDOW_CONTROL_BACKGROUND" file="notused.png" />
       <structure type="chrome_scaled_image" name="IDR_TRANSLATE_BUBBLE_ICON" file="common/translate_bubble_icon.png" />
+      <structure type="chrome_scaled_image" name="IDR_GOOROOM_ICON" file="gooroom/product_logo_32.png" />
       <if expr="not _google_chrome">
         <structure type="chrome_scaled_image" name="IDR_WEBSTORE_ICON" file="chromium/webstore_icon.png" />
         <structure type="chrome_scaled_image" name="IDR_WEBSTORE_ICON_16" file="chromium/webstore_icon_16.png" />
diff --git a/chrome/browser/feedback/system_logs/log_sources/chrome_internal_log_source.cc b/chrome/browser/feedback/system_logs/log_sources/chrome_internal_log_source.cc
index 05a1108ec..697a32542 100644
--- a/chrome/browser/feedback/system_logs/log_sources/chrome_internal_log_source.cc
+++ b/chrome/browser/feedback/system_logs/log_sources/chrome_internal_log_source.cc
@@ -54,7 +54,7 @@ constexpr char kSyncDataKey[] = "about_sync_data";
 constexpr char kExtensionsListKey[] = "extensions";
 constexpr char kPowerApiListKey[] = "chrome.power extensions";
 constexpr char kDataReductionProxyKey[] = "data_reduction_proxy";
-constexpr char kChromeVersionTag[] = "CHROME VERSION";
+constexpr char kChromeVersionTag[] = "GOOROOM VERSION";
 #if defined(OS_CHROMEOS)
 constexpr char kChromeOsFirmwareVersion[] = "CHROMEOS_FIRMWARE_VERSION";
 constexpr char kChromeEnrollmentTag[] = "ENTERPRISE_ENROLLED";
diff --git a/chrome/browser/history/top_sites_factory.cc b/chrome/browser/history/top_sites_factory.cc
index 9bc601554..a58a70eb1 100644
--- a/chrome/browser/history/top_sites_factory.cc
+++ b/chrome/browser/history/top_sites_factory.cc
@@ -57,10 +57,10 @@ struct RawPrepopulatedPage {
 // Android does not use prepopulated pages.
 const RawPrepopulatedPage kRawPrepopulatedPages[] = {
     {
-        IDS_WEBSTORE_URL,
-        IDS_EXTENSION_WEB_STORE_TITLE_SHORT,
-        IDR_WEBSTORE_ICON_32,
-        SkColorSetRGB(63, 132, 197),
+        IDS_GOOROOM_URL,
+        IDS_GOOROOM_TITLE_SHORT,
+        IDR_GOOROOM_ICON,
+        SkColorSetRGB(52, 132, 197),
     },
 };
 #endif
diff --git a/chrome/browser/resources/inspect/inspect.html b/chrome/browser/resources/inspect/inspect.html
index cdd1e511b..ea9a9eb59 100644
--- a/chrome/browser/resources/inspect/inspect.html
+++ b/chrome/browser/resources/inspect/inspect.html
@@ -7,7 +7,7 @@ found in the LICENSE file.
 -->
 <head>
 <meta charset="utf-8">
-<title>Inspect with Chrome Developer Tools</title>
+<title>Inspect with Gooroom Developer Tools</title>
 <link rel="stylesheet" href="chrome://resources/css/text_defaults.css">
 <link rel="stylesheet" href="inspect.css">
 <script src="chrome://resources/js/util.js"></script>
diff --git a/chrome/browser/resources/net_internals/events_view.html b/chrome/browser/resources/net_internals/events_view.html
index 2b00d73bf..b093e1ce2 100644
--- a/chrome/browser/resources/net_internals/events_view.html
+++ b/chrome/browser/resources/net_internals/events_view.html
@@ -1,6 +1,6 @@
 <!-- ================= Events view =================== -->
 <div id=events-view-tab-content class=content-box>
   The net-internals events viewer and related functionality has been removed.
-  Please use <a href="chrome://net-export">chrome://net-export</a> to save netlogs and the external <a href="https://chromium.googlesource.com/catapult/+/master/netlog_viewer/">catapult netlog_viewer</a> to view them.
+  Please use <a href="chrome://net-export">gooroom://net-export</a> to save netlogs and the external <a href="https://chromium.googlesource.com/catapult/+/master/netlog_viewer/">catapult netlog_viewer</a> to view them.
 </div>
 
diff --git a/chrome/browser/ui/webui/about_ui.cc b/chrome/browser/ui/webui/about_ui.cc
index 3524d7447..fc09a9d3b 100644
--- a/chrome/browser/ui/webui/about_ui.cc
+++ b/chrome/browser/ui/webui/about_ui.cc
@@ -13,6 +13,7 @@
 #include <utility>
 #include <vector>
 
+#include "gooroom/URLRewrite/gooroom_url_rewrite.h"
 #include "base/bind.h"
 #include "base/bind_helpers.h"
 #include "base/callback.h"
@@ -531,22 +532,28 @@ namespace {
 
 std::string ChromeURLs() {
   std::string html;
-  AppendHeader(&html, 0, "Chrome URLs");
+  AppendHeader(&html, 0, "Gooroom URLs");
   AppendBody(&html);
-  html += "<h2>List of Chrome URLs</h2>\n<ul>\n";
+  html += "<h2>List of Gooroom URLs</h2>\n<ul>\n";
   std::vector<std::string> hosts(
       chrome::kChromeHostURLs,
       chrome::kChromeHostURLs + chrome::kNumberOfChromeHostURLs);
   std::sort(hosts.begin(), hosts.end());
   for (std::vector<std::string>::const_iterator i = hosts.begin();
        i != hosts.end(); ++i)
-    html += "<li><a href='chrome://" + *i + "/'>chrome://" + *i + "</a></li>\n";
+    html += "<li><a href='chrome://" + *i + "/'>gooroom://" + *i + "</a></li>\n";
   html += "</ul>\n<h2>For Debug</h2>\n"
       "<p>The following pages are for debugging purposes only. Because they "
       "crash or hang the renderer, they're not linked directly; you can type "
       "them into the address bar if you need them.</p>\n<ul>";
-  for (size_t i = 0; i < chrome::kNumberOfChromeDebugURLs; i++)
+  for (size_t i = 0; i < chrome::kNumberOfChromeDebugURLs; i++){
+#if defined(GOOROOM_BUILD)
+    GURL changed_url = GooroomURLRewrite::ChangeGooroomScheme(GURL(std::string(chrome::kChromeDebugURLs[i])));
+    html += "<li>" + std::string(changed_url.spec()) + "</li>\n";
+#else
     html += "<li>" + std::string(chrome::kChromeDebugURLs[i]) + "</li>\n";
+#endif
+  }
   html += "</ul>\n";
   AppendFooter(&html);
   return html;
diff --git a/chrome/browser/ui/webui/supervised_user_internals_message_handler.cc b/chrome/browser/ui/webui/supervised_user_internals_message_handler.cc
index 005362663..47b80a1b2 100644
--- a/chrome/browser/ui/webui/supervised_user_internals_message_handler.cc
+++ b/chrome/browser/ui/webui/supervised_user_internals_message_handler.cc
@@ -193,7 +193,7 @@ void SupervisedUserInternalsMessageHandler::SendBasicInfo() {
   std::unique_ptr<base::ListValue> section_list(new base::ListValue);
 
   base::ListValue* section_general = AddSection(section_list.get(), "General");
-  AddSectionEntry(section_general, "Chrome version",
+  AddSectionEntry(section_general, "Gooroom version",
                   chrome::GetVersionString());
   AddSectionEntry(section_general, "Child detection enabled",
                   ChildAccountService::IsChildAccountDetectionEnabled());
diff --git a/components/signin/core/browser/about_signin_internals.cc b/components/signin/core/browser/about_signin_internals.cc
index ad8dd0679..c8e538a9c 100644
--- a/components/signin/core/browser/about_signin_internals.cc
+++ b/components/signin/core/browser/about_signin_internals.cc
@@ -591,7 +591,7 @@ AboutSigninInternals::SigninStatus::ToValue(
   // A summary of signin related info first.
   base::ListValue* basic_info =
       AddSection(signin_info.get(), "Basic Information");
-  AddSectionEntry(basic_info, "Chrome Version",
+  AddSectionEntry(basic_info, "Gooroom Version",
                   signin_client->GetProductVersion());
   AddSectionEntry(basic_info, "Account Consistency",
                   GetAccountConsistencyDescription(account_consistency));
diff --git a/content/browser/resources/service_worker/serviceworker_internals.html b/content/browser/resources/service_worker/serviceworker_internals.html
index b236a6be5..b419ecc74 100644
--- a/content/browser/resources/service_worker/serviceworker_internals.html
+++ b/content/browser/resources/service_worker/serviceworker_internals.html
@@ -2,7 +2,7 @@
 <html i18n-values="dir:textdirection;lang:language">
 <head>
   <meta charset="utf-8">
-  <title>chrome://serviceworker-internals</title>
+  <title>gooroom://serviceworker-internals</title>
   <link rel="stylesheet" href="chrome://resources/css/tabs.css">
   <link rel="stylesheet" href="chrome://resources/css/widgets.css">
   <link rel="stylesheet" href="serviceworker_internals.css">
-- 
2.11.0

