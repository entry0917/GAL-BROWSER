From 3772132d3cb0b2fbbf8f47268412e12b19ec049a Mon Sep 17 00:00:00 2001
From: JunSung Choi <junsungc@gooroom.kr>
Date: Sat, 25 May 2019 21:25:26 +0900
Subject: [PATCH 55/63] Remove Incognito mode in gooroom-browser

---
 chrome/browser/resources/bookmarks/command_manager.js | 2 +-
 chrome/browser/ui/browser_command_controller.cc       | 2 ++
 chrome/browser/ui/toolbar/app_menu_model.cc           | 3 +++
 3 files changed, 6 insertions(+), 1 deletion(-)

diff --git a/chrome/browser/resources/bookmarks/command_manager.js b/chrome/browser/resources/bookmarks/command_manager.js
index 2eaa22f54..cfdc969ac 100644
--- a/chrome/browser/resources/bookmarks/command_manager.js
+++ b/chrome/browser/resources/bookmarks/command_manager.js
@@ -682,7 +682,7 @@ cr.define('bookmarks', function() {
             // <hr>
             Command.OPEN_NEW_TAB,
             Command.OPEN_NEW_WINDOW,
-            Command.OPEN_INCOGNITO,
+//            Command.OPEN_INCOGNITO,
           ];
         case MenuSource.TOOLBAR:
           return [
diff --git a/chrome/browser/ui/browser_command_controller.cc b/chrome/browser/ui/browser_command_controller.cc
index 04b702e55..f975216d9 100644
--- a/chrome/browser/ui/browser_command_controller.cc
+++ b/chrome/browser/ui/browser_command_controller.cc
@@ -344,7 +344,9 @@ bool BrowserCommandController::ExecuteCommandWithDisposition(
       NewWindow(browser_);
       break;
     case IDC_NEW_INCOGNITO_WINDOW:
+#if !defined(GOOROOM_BUILD)
       NewIncognitoWindow(profile());
+#endif
       break;
     case IDC_CLOSE_WINDOW:
       base::RecordAction(base::UserMetricsAction("CloseWindowByKey"));
diff --git a/chrome/browser/ui/toolbar/app_menu_model.cc b/chrome/browser/ui/toolbar/app_menu_model.cc
index 6f4102f32..7b2940163 100644
--- a/chrome/browser/ui/toolbar/app_menu_model.cc
+++ b/chrome/browser/ui/toolbar/app_menu_model.cc
@@ -900,6 +900,9 @@ void AppMenuModel::UpdateZoomControls() {
 }
 
 bool AppMenuModel::ShouldShowNewIncognitoWindowMenuItem() {
+#if defined(GOOROOM_BUILD)
+  return false;
+#endif
   if (browser_->profile()->IsGuestSession())
     return false;
 
-- 
2.11.0

